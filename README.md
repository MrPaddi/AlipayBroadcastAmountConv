# æ”¯ä»˜å®è¯­éŸ³æ’­æŠ¥é‡‘é¢è½¬æ¢å·¥å…·

è¯­éŸ³æ ¼å¼ï¼š
```
æ”¯ä»˜å®åˆ°è´¦ åäºŒç‚¹äº” å…ƒ
```

ä»£ç åº“ä¸»è¦ç”¨äºå¯¹æ”¯ä»˜å®é‡‘é¢ç”Ÿæˆ/è§£æ

## æ”¯ä»˜å®é‡‘é¢è¯­éŸ³ç”Ÿæˆ

è¯­éŸ³ç”Ÿæˆéœ€è¦ä¸¤æ­¥ï¼Œè·å–å‘éŸ³å•å­—å’Œå•å­—æ‹¼æ¥æˆè¯­éŸ³

### 1. è·å–å‘éŸ³çš„å•å­—
```
from num2upper import conv_amount_to_mandarin

assert conv_amount_to_mandarin("12.50") == "åäºŒç‚¹äº”"
```

### 2. æ ¹æ®å•å­—æ‹¼æ¥è¯­éŸ³
åœ¨`alipay_word_wav`ç›®å½•ä¸‹åŸºæœ¬çš„æ”¯ä»˜å®å•å­—è¯­éŸ³ï¼Œä½¿ç”¨ [Pydub](https://github.com/jiaaro/pydub) å¯¹è¯­éŸ³è¿›è¡Œæ‹¼æ¥
```
import os
from pydub import AudioSegment
from gen_broadcast_audio import gen_single_audio

dst_dir = "export"
random_amount = "4025.40"
_, amount_mandarin, amount_audio = gen_single_audio(random_amount)
assert isinstance(amount_audio, AudioSegment)
export_file_path = os.path.join(dst_dir, amount_mandarin+".wav")
amount_audio.export(export_file_path, format="wav")
```
æ‰¹é‡æ–‡ä»¶ç”Ÿæˆå¯ä»¥ä½¿ç”¨`gen_batch_audio`ã€‚è¯¦æƒ…å‚è€ƒ`gen_broadcast_audio.py`

*æ³¨ï¼š`Pydub`ä¾èµ–[ffmpeg](http://ffmpeg.org/)*ï¼Œç›¸å…³èµ„æºè¯·è‡ªè¡Œåˆ°ç½‘ä¸ŠæŸ¥é˜…

## æ”¯ä»˜å®è¯­éŸ³é‡‘é¢è§£æ

è¯­éŸ³è§£æä¹Ÿéœ€è¦ä¸¤æ­¥ï¼Œä¸€ä¸ªæ˜¯è¯­éŸ³è¯†åˆ«ï¼Œå¦ä¸€ä¸ªæ˜¯é‡‘é¢è½¬æ¢

### 1. è¯­éŸ³è¯†åˆ«
å›½å†…å„å¤§å‚æœ‰è¾ƒæˆç†Ÿçš„è¯­éŸ³è¯†åˆ«å·¥å…·ï¼Œè¯·æŸ¥é˜…ç›¸å…³çš„èµ„æ–™æ–‡æ¡£è¿›è¡Œè°ƒç”¨

### 2. é‡‘é¢è½¬åŒ–
æ ¹æ®è¯­éŸ³è¯†åˆ«å¯ä»¥è·å¾—æ ¼å¼å¦‚`æ”¯ä»˜å®åˆ°è´¦åäºŒç‚¹äº”å…ƒ`çš„å†…å®¹ï¼Œåœ¨ç®€å•çš„æå–å¤§å†™é‡‘é¢éƒ¨åˆ†åå¯ç›´æ¥è½¬åŒ–æå–
```
from upper2num import conv_mandarin_to_amount

assert conv_mandarin_to_amount("åäºŒç‚¹äº”") == 12.5
```

---
** å¤‡æ³¨ **

1. å·¥å…·é›†è¯ç”Ÿäºæ”¯ä»˜å®è¯­éŸ³è¯†åˆ«é¡¹ç›®å‡†å¤‡æ•°æ®é›†é˜¶æ®µï¼Œå·§å¦‡éš¾ä¸ºæ— ç±³ä¹‹ç‚Šå•Š

2. ç½‘ä¸Šå¾ˆå¤šé‡‘é¢è½¬æ¢çš„ä»£ç åŸºäºæ–‡ä¹¦çš„ï¼Œå’Œæ”¯ä»˜å®è¯­éŸ³å‘éŸ³å¹¶ä¸ä¸€è‡´ã€‚è™½ç„¶æœ‰çš„æ”¹ä¸€æ”¹èƒ½ç”¨ï¼Œä½†æ˜¯...ä¸å¥½çœ‹ğŸ˜‚

3. `conv_amount_to_mandarin`æ²¡æœ‰ç¾æ„Ÿï¼Œæœ‰æ›´å¥½çš„å®ç°æˆ–è€…é‡æ„æ–¹æ¡ˆè¯·å‘Šè¯‰æˆ‘

4. é‡åˆ°ä»€ä¹ˆbugè¯·åŠ¡å¿…è®°å¾—æ¥æ‰“æˆ‘çš„è„¸ï¼Œè„¸å·²å°±ä½ï¼Œè¯¸å›ï¼Œè¯·åŠ¨æ‰‹å§! 



